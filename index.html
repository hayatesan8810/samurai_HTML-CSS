<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="utf-8">
    <title>JavaScriptの練習</title>
  </head>
  
  <body>
  <h1>javascriptのリポジトリ総数 by GitHub</h1>
  
  <button id="btn">更新</buttn>
  <h2 id="total"></h2>
     
  <script>
    const url = 'https://api.github.com/search/repositories?q=javascript';
    const btn= document.getElementById('btn');
    const total = document.getElementById('total');
    
    const createlist = item =>{
      const h2 = document.createElement('h2');
      
     h2.textContent = 'リボジトリの総数は'+item.total_count +'件です';
      
     total.appendChild(h2);
    }
    
    btn.addEventListener('click',() => {
      total.innerHTML ='';
      
      fetch(url)
      .then(date => date.json())
      .then(date => createlist(date))
      
    })
    </script>
 
   </body> 
  
 
</html>